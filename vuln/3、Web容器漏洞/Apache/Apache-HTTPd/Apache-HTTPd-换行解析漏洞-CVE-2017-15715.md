# Apache-HTTPd-换行解析漏洞-CVE-2017-15715

## 漏洞描述

Apache HTTPD是一款HTTP服务器，它可以通过mod_php来运行PHP网页。其2.4.0~2.4.29版本中存在一个解析漏洞，在解析PHP时，`1.php\x0A`将被按照PHP后缀进行解析，导致绕过一些服务器的安全策略。

## 漏洞影响

> [!NOTE]
>
> Apache HTTPd  2.4.0~2.4.29版本

## 环境搭建

```
https://github.com/vulhub/vulhub.git
cd vulhub/httpd/CVE-2017-15715
docker-compose up -d
```

访问 http://xxx.xxx.xxx.xxx:8080 正常即可

## 漏洞复现

直接上传恶意文件会被拦截

![](Apache-HTTPd-换行解析漏洞-CVE-2017-15715.assets/16273634428308291.jpg)

抓包修改如下参数

![](Apache-HTTPd-换行解析漏洞-CVE-2017-15715.assets/1627363443159219.jpg)

![](Apache-HTTPd-换行解析漏洞-CVE-2017-15715.assets/1627363443503892.jpg)

响应为200，成功绕过

访问 http://xxx.xxx.xxx.xxx:8080/evil.php%0a 成功触发解析漏洞

![](Apache-HTTPd-换行解析漏洞-CVE-2017-15715.assets/16273634437443058.jpg)